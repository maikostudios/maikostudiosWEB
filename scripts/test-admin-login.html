<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba Login Administrador</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }

        .test-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .test-step {
            margin: 20px 0;
            padding: 15px;
            border-left: 4px solid #00cccc;
            background: #f8f9fa;
        }

        .test-step h3 {
            margin: 0 0 10px 0;
            color: #333;
        }

        .credentials {
            background: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
            margin: 10px 0;
        }

        .test-button {
            background: #00cccc;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }

        .test-button:hover {
            background: #0099aa;
        }

        .test-result {
            margin: 15px 0;
            padding: 15px;
            border-radius: 5px;
        }

        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }

        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }

        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h1>ğŸ” Prueba Login Administrador MaikoStudios</h1>
        <p>Esta herramienta te ayuda a probar las credenciales de acceso al panel de administraciÃ³n.</p>

        <div class="test-step">
            <h3>ğŸ“‹ Credenciales Configuradas</h3>
            <div class="credentials">
                <strong>ğŸ¯ Credenciales Principales (Testing):</strong><br>
                Email: maikostudios@gmail.com<br>
                ContraseÃ±a: 123456<br><br>

                <strong>ğŸ”§ Credenciales Alternativas (Desarrollo):</strong><br>
                Email: admin@maikostudios.com<br>
                ContraseÃ±a: admin123<br><br>

                <strong>ğŸ“§ Emails Autorizados:</strong><br>
                - maikostudios@gmail.com<br>
                - m.esteban.saez@gmail.com<br>
                - admin@maikostudios.com<br>
                - michael@maikostudios.com
            </div>
        </div>

        <div class="test-step">
            <h3>ğŸ§ª Pruebas de AutenticaciÃ³n</h3>

            <h4>1. Modo Testing (Firebase Auth deshabilitado)</h4>
            <div class="credentials">
                Email: maikostudios@gmail.com<br>
                ContraseÃ±a: 123456
            </div>
            <button class="test-button" onclick="probarCredencialesTesting()">Probar Credenciales Testing</button>
            <div id="testing-result"></div>

            <h4>2. Modo Desarrollo (Fallback local)</h4>
            <div class="credentials">
                Email: admin@maikostudios.com<br>
                ContraseÃ±a: admin123
            </div>
            <button class="test-button" onclick="probarCredencialesDesarrollo()">Probar Credenciales Desarrollo</button>
            <div id="desarrollo-result"></div>

            <h4>3. Firebase Auth (Si estÃ¡ configurado)</h4>
            <div class="credentials">
                Email: maikostudios@gmail.com<br>
                ContraseÃ±a: 123456
            </div>
            <button class="test-button" onclick="probarFirebaseAuth()">Probar Firebase Auth</button>
            <div id="firebase-result"></div>
        </div>

        <div class="test-step">
            <h3>ğŸ”— Acciones RÃ¡pidas</h3>
            <button class="test-button" onclick="abrirLoginReal()">ğŸš€ Abrir Login Real</button>
            <button class="test-button" onclick="abrirPanelAdmin()">ğŸ“Š Abrir Panel Admin</button>
            <button class="test-button" onclick="verificarEstadoAuth()">ğŸ” Verificar Estado Auth</button>
            <button class="test-button" onclick="limpiarSesion()">ğŸ§¹ Limpiar SesiÃ³n</button>
        </div>

        <div class="test-step">
            <h3>ğŸ“Š Estado Actual de AutenticaciÃ³n</h3>
            <div id="auth-status" class="info">
                <strong>Estado:</strong> Verificando...<br>
                <strong>Usuario:</strong> No autenticado<br>
                <strong>Modo:</strong> Desconocido
            </div>
        </div>

        <div class="test-step">
            <h3>ğŸ› ï¸ DiagnÃ³stico de Problemas</h3>
            <div id="diagnostico">
                <p><strong>Problemas comunes y soluciones:</strong></p>
                <ul>
                    <li><strong>Error "Usuario no autorizado":</strong> El email no estÃ¡ en la lista de autorizados</li>
                    <li><strong>Error "auth/invalid-credential":</strong> Credenciales incorrectas en Firebase</li>
                    <li><strong>Error "auth/user-not-found":</strong> Usuario no existe en Firebase Auth</li>
                    <li><strong>Error de conexiÃ³n:</strong> Firebase no estÃ¡ configurado correctamente</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        function mostrarResultado(elementId, tipo, mensaje) {
            const element = document.getElementById(elementId);
            element.innerHTML = `<div class="test-result ${tipo}">${mensaje}</div>`;
        }

        function probarCredencialesTesting() {
            mostrarResultado('testing-result', 'info', 'â³ Probando credenciales de testing...');

            // Simular el flujo de autenticaciÃ³n de testing
            const email = 'maikostudios@gmail.com';
            const password = '123456';

            setTimeout(() => {
                if (email === 'maikostudios@gmail.com' && password === '123456') {
                    mostrarResultado('testing-result', 'success', `
                        âœ… Credenciales de testing vÃ¡lidas<br>
                        ğŸ“§ Email: ${email}<br>
                        ğŸ”‘ ContraseÃ±a: Correcta<br>
                        ğŸ¯ Modo: Testing/Local<br>
                        â„¹ï¸ Estas credenciales deberÃ­an funcionar en el login real
                    `);
                } else {
                    mostrarResultado('testing-result', 'error', 'âŒ Credenciales de testing invÃ¡lidas');
                }
            }, 1000);
        }

        function probarCredencialesDesarrollo() {
            mostrarResultado('desarrollo-result', 'info', 'â³ Probando credenciales de desarrollo...');

            const email = 'admin@maikostudios.com';
            const password = 'admin123';

            setTimeout(() => {
                if (email === 'admin@maikostudios.com' && password === 'admin123') {
                    mostrarResultado('desarrollo-result', 'success', `
                        âœ… Credenciales de desarrollo vÃ¡lidas<br>
                        ğŸ“§ Email: ${email}<br>
                        ğŸ”‘ ContraseÃ±a: Correcta<br>
                        ğŸ¯ Modo: Desarrollo/Fallback<br>
                        â„¹ï¸ Estas credenciales tambiÃ©n deberÃ­an funcionar
                    `);
                } else {
                    mostrarResultado('desarrollo-result', 'error', 'âŒ Credenciales de desarrollo invÃ¡lidas');
                }
            }, 1000);
        }

        function probarFirebaseAuth() {
            mostrarResultado('firebase-result', 'info', 'â³ Verificando configuraciÃ³n de Firebase Auth...');

            setTimeout(() => {
                // Simular verificaciÃ³n de Firebase
                const firebaseConfigured = Math.random() > 0.5; // SimulaciÃ³n

                if (firebaseConfigured) {
                    mostrarResultado('firebase-result', 'warning', `
                        âš ï¸ Firebase Auth configurado<br>
                        ğŸ“§ Email: maikostudios@gmail.com<br>
                        ğŸ”‘ ContraseÃ±a: 123456<br>
                        â„¹ï¸ Si el usuario existe en Firebase, deberÃ­a funcionar<br>
                        ğŸš¨ Si no funciona, el usuario no estÃ¡ creado en Firebase Auth
                    `);
                } else {
                    mostrarResultado('firebase-result', 'info', `
                        â„¹ï¸ Firebase Auth no configurado o en modo demo<br>
                        ğŸ”„ El sistema usarÃ¡ autenticaciÃ³n local<br>
                        âœ… Las credenciales de testing deberÃ­an funcionar
                    `);
                }
            }, 1500);
        }

        function abrirLoginReal() {
            window.open('http://localhost:5173/login', '_blank');
        }

        function abrirPanelAdmin() {
            window.open('http://localhost:5173/admin', '_blank');
        }

        function verificarEstadoAuth() {
            const isAuth = localStorage.getItem('admin_authenticated') === 'true';
            const userData = localStorage.getItem('admin_user');

            let estado = 'No autenticado';
            let usuario = 'Ninguno';
            let modo = 'Desconocido';

            if (isAuth && userData) {
                try {
                    const user = JSON.parse(userData);
                    estado = 'Autenticado';
                    usuario = user.email || 'Email no disponible';
                    modo = user.isLocal ? 'Local' : 'Firebase';
                } catch (error) {
                    estado = 'Error en datos de usuario';
                }
            }

            document.getElementById('auth-status').innerHTML = `
                <strong>Estado:</strong> ${estado}<br>
                <strong>Usuario:</strong> ${usuario}<br>
                <strong>Modo:</strong> ${modo}
            `;
        }

        function limpiarSesion() {
            localStorage.removeItem('admin_authenticated');
            localStorage.removeItem('admin_user');
            mostrarResultado('auth-status', 'info', 'ğŸ§¹ SesiÃ³n limpiada. Recarga la pÃ¡gina para ver el cambio.');
            setTimeout(verificarEstadoAuth, 1000);
        }

        // Verificar estado al cargar
        verificarEstadoAuth();

        // Auto-actualizar estado cada 5 segundos
        setInterval(verificarEstadoAuth, 5000);
    </script>
</body>

</html>